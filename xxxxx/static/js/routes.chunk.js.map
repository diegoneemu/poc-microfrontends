{"version":3,"file":"static/js/routes.chunk.js","sources":["/Users/diego/Projects/micro-frontends/poc/orchestrator/front/src/Components/Routes/MainApp.tsx","/Users/diego/Projects/micro-frontends/poc/orchestrator/front/src/Components/Routes/index.tsx","/Users/diego/Projects/micro-frontends/poc/orchestrator/front/src/Components/Routes/routes.js"],"sourcesContent":["import React from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport MicroFrontend from \"../Common/MicroFrontend\";\n\nexport type AppObjectRoute = {\n  title: any;\n  aside: any;\n  footer: any;\n  path: string;\n  exact: boolean;\n  render: any;\n};\n\nconst MainAppRoutes: AppObjectRoute[] = [\n  {\n    title: (props: RouteComponentProps) => {\n      return (\n        <>\n          <h1>Main App</h1>\n        </>\n      );\n    },\n    aside: (props: RouteComponentProps) => {\n      return <h2>Aside Main</h2>;\n    },\n    footer: (props: RouteComponentProps) => {\n      return <h2>Footer Main App</h2>;\n    },\n    render: (props: RouteComponentProps) => {\n      return (\n        <MicroFrontend\n          history={props.history}\n          host={\"/api/main-app\"}\n          name=\"Restaurant\"\n        />\n      );\n    },\n    path: \"/\",\n    exact: true,\n  },\n];\n\nexport default MainAppRoutes;\n","import React, { Suspense, useEffect, useState } from \"react\";\nimport { Route, RouteProps, Switch } from \"react-router-dom\";\nimport Loading from \"../Common/Loading\";\nimport { AppObjectRoute } from \"./MainApp\";\nimport axios from \"axios\";\nimport ApplicationResource from \"../../Application/ApplicationResource\";\n\ntype CustomRouteComponentProps = {\n  routerPosition: string;\n};\n\ninterface CustomRouteProps extends RouteProps {\n  key: string;\n}\n\nexport default ({ routerPosition }: CustomRouteComponentProps) => {\n  const [routes, setRoutes] = useState<Array<AppObjectRoute> | null>(null);\n  const [routeList, setRouteList] = useState<Array<ApplicationResource>>([]);\n\n  useEffect(() => {\n    (async function () {\n      const routes = await axios.get<any>(\"/api/static/js/routes.chunk.js\");\n\n      setRoutes([]);\n    })();\n  }, []);\n\n  useEffect(() => {\n    const myRouteList =\n      routes &&\n      routes.map((route: { [key: string]: any }) => {\n        const routeProps: CustomRouteProps = {\n          key: route.path,\n          path: route.path,\n          exact: route.exact,\n          render: () => <></>,\n        };\n\n        let routeComponent = null;\n\n        if (routerPosition !== \"app\") {\n          routeProps.render = route[routerPosition];\n          routeComponent = <Route {...routeProps} />;\n        } else {\n          if (route.render) {\n            routeProps.render = route.render;\n          }\n\n          routeComponent = <Route {...routeProps} />;\n        }\n\n        return routeComponent;\n      });\n\n    // if (myRouteList) setRouteList(myRouteList);\n  }, [routes]);\n\n  return (\n    <Suspense fallback={<Loading />}>\n      <Switch>{routeList}</Switch>\n    </Suspense>\n  );\n};\n","import MainApp from \"./MainApp\";\n\nexport default [...MainApp];\n"],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;AAWA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAxBA;AA4BA;;;;;;;;;;;;;;;;;;;;AC1CA;AACA;AACA;AAEA;AAWA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;;;;;;;;;AC9DA;AAAA;AAAA;AAEA;;;;A","sourceRoot":""}